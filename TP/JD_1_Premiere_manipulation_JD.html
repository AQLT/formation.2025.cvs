<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alain Quartier-la-Tente">

<title>Formation CVS 2025 – 1 - Première manipulation de JDemetra+</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../img/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-X652XRGDPL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
 
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'analytics_storage': 'denied'
  });
gtag('config', 'G-X652XRGDPL', { 'anonymize_ip': true});
</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Formation CVS 2025</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> <i class="bi bi-house" role="img">
</i> 
<span class="menu-text">Désaisonnaliser une série temporelle</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://aqlt.github.io/teaching/"> 
<span class="menu-text">Ensemble formations</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://github.com/AQLT/formation.2025.cvs"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sur cette page</h2>
   
  <ul>
  <li><a href="#créer-et-sauvegarder-un-workspace" id="toc-créer-et-sauvegarder-un-workspace" class="nav-link active" data-scroll-target="#créer-et-sauvegarder-un-workspace"><span class="header-section-number">1</span> Créer et sauvegarder un Workspace</a></li>
  <li><a href="#importer-les-séries-brutes-dans-jdemetra" id="toc-importer-les-séries-brutes-dans-jdemetra" class="nav-link" data-scroll-target="#importer-les-séries-brutes-dans-jdemetra"><span class="header-section-number">2</span> Importer les séries (brutes) dans JDemetra+</a>
  <ul class="collapse">
  <li><a href="#importation-dun-fichier-excel-sous-jdemetra" id="toc-importation-dun-fichier-excel-sous-jdemetra" class="nav-link" data-scroll-target="#importation-dun-fichier-excel-sous-jdemetra"><span class="header-section-number">2.1</span> Importation d’un fichier Excel sous JDemetra+</a></li>
  <li><a href="#mettre-un-fichier-en-favori" id="toc-mettre-un-fichier-en-favori" class="nav-link" data-scroll-target="#mettre-un-fichier-en-favori"><span class="header-section-number">2.2</span> Mettre un fichier en « favori »</a></li>
  </ul></li>
  <li><a href="#lancer-une-première-désaisonnalisation-automatique-sous-jdemetra" id="toc-lancer-une-première-désaisonnalisation-automatique-sous-jdemetra" class="nav-link" data-scroll-target="#lancer-une-première-désaisonnalisation-automatique-sous-jdemetra"><span class="header-section-number">3</span> Lancer une première désaisonnalisation automatique sous JDemetra+</a>
  <ul class="collapse">
  <li><a href="#création-dun-nouveau-multi-document" id="toc-création-dun-nouveau-multi-document" class="nav-link" data-scroll-target="#création-dun-nouveau-multi-document"><span class="header-section-number">3.1</span> Création d’un nouveau « multi-document »</a></li>
  <li><a href="#choisir-une-spécfication-pré-définie" id="toc-choisir-une-spécfication-pré-définie" class="nav-link" data-scroll-target="#choisir-une-spécfication-pré-définie"><span class="header-section-number">3.2</span> Choisir une spécfication pré-définie</a></li>
  <li><a href="#lancer-une-désaisonnalisation" id="toc-lancer-une-désaisonnalisation" class="nav-link" data-scroll-target="#lancer-une-désaisonnalisation"><span class="header-section-number">3.3</span> Lancer une désaisonnalisation</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">1 - Première manipulation de JDemetra+</h1>
<p class="subtitle lead">Désaisonnaliser une série temporelle</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Auteur</div>
    <div class="quarto-title-meta-contents">
             <p>Alain Quartier-la-Tente </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<blockquote class="blockquote">
<p>L’objectif de ce TP est de faire une première manipulation de JDemetra+ : créer un workspace, importer des données, lancer une première désaisonnalisation.</p>
</blockquote>
<section id="créer-et-sauvegarder-un-workspace" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Créer et sauvegarder un Workspace</h1>
<p>Le “workspace” est l’objet de travail sous JDemetra+ : il contient les données, les modèles de désaisonnalisation, etc.</p>
<p>Il est composé :</p>
<ol type="1">
<li><p>D’un fichier <code>.xml</code> (par exemple <code>monworkspace.xml</code>).</p></li>
<li><p>D’un dossier du même nom (par exemple <code>monworkspace</code>).</p></li>
</ol>
<p>Instructions :</p>
<ul>
<li><p>Ouvrir le logiciel JDemetra+.</p></li>
<li><p>Sauvegarder le Workspace.</p></li>
<li><p>Cliquer sur <code>File &gt; Save Workspace As…</code>.</p></li>
<li><p>Entrer un nom pour le workspace et choisir l’emplacement où sera sauvegardé le workspace.</p></li>
<li><p>Fermer le logiciel JDemetra+ et ouvrir l’emplacement où a été sauvegardé le workspace :</p>
<ul>
<li>Que voit-on ?</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>On voit la création d’un fichier <code>.xml</code> et d’un dossier du même nom. Attention, c’est deux objets sont indissociables et le workspace n’est complet que si c’est deux objets sont présents ! Ainsi, si vous déplacez le fichier <code>.xml</code> sans déplacer le dossier, alors il vous sera impossible de lire le workspace !</p>
</div>
</div>
</div>
</section>
<section id="importer-les-séries-brutes-dans-jdemetra" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Importer les séries (brutes) dans JDemetra+</h1>
<p>Il existe de très nombreuses façons d’importer des données sous JDemetra+ (beaucoup de “providers”) : Excel, csv, txt, SDMX… Ici nous nous concentrerons sur le plus “classique” : le fichier Excel.</p>
<p>Si vous n’avez pas de fichier, vous pouvez utiliser celui disponible le fichier <a href="../data/macronia.xlsx">macronia.xlsx</a>.</p>
<section id="importation-dun-fichier-excel-sous-jdemetra" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="importation-dun-fichier-excel-sous-jdemetra"><span class="header-section-number">2.1</span> Importation d’un fichier Excel sous JDemetra+</h2>
<p>On se place ici dans le cas où les données brutes figurent dans un fichier Excel qui respecte les règles suivantes :</p>
<ul>
<li><p>la première colonne correspond à la date au format JJ/MM/AAAA ;</p></li>
<li><p>la première ligne contient le nom des séries.</p></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour information
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour créer un tel fichier Excel depuis R, voir le <a href="../TP/R_0_Manipulation_series_temporelles.html">TP 0 - Traitement des séries temporelles sous R</a>.</p>
</div>
</div>
<ul>
<li><p>Retourner sous JDemetra+.</p></li>
<li><p>Cliquer sur l’onglet <code>Providers</code>.</p></li>
<li><p>Clic-droit sur <code>Spreadsheets</code>.</p></li>
<li><p>Cliquer sur <code>Open</code>.</p></li>
<li><p>Cliquer sur le bouton <code>…</code>.</p></li>
<li><p>Sélectionner un fichier Excel contenant les séries à désaisonnaliser.</p></li>
<li><p>Cliquer sur OK :</p>
<ul>
<li>Que voit-on sous <code>Spreadsheets</code> ?</li>
</ul></li>
</ul>
</section>
<section id="mettre-un-fichier-en-favori" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="mettre-un-fichier-en-favori"><span class="header-section-number">2.2</span> Mettre un fichier en « favori »</h2>
<ul>
<li><p>Sauvegarder le workspace puis l’ouvrir de nouveau.</p></li>
<li><p>Cliquer sur l’onglet <code>Providers</code>.</p></li>
<li><p>Que voit-on ?</p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Les données ont disparues ! La partie <code>Providers</code> est en effet indépendante du <code>Workspace</code>.</p>
</div>
</div>
</div>
<ul>
<li><p>Importer de nouveau votre fichier Excel.</p></li>
<li><p>Clic-droit sur le nom du fichier Excel qui est apparu sous <code>Spreadsheets</code>.</p></li>
<li><p>Cliquer sur <code>Add star</code>.</p></li>
<li><p>Que se passe-t-il ?</p></li>
<li><p>Sauvegarder le workspace, fermer le logiciel puis l’ouvrir de nouveau.</p></li>
<li><p>Cliquer sur l’onglet <code>Providers</code> :</p>
<ul>
<li>Que voit-on ?</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Les données restent ! Si on utilise souvent ce fichier Excel c’est un moyen de le garder en mémoire.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour information
</div>
</div>
<div class="callout-body-container callout-body">
<p>JDemetra+ stocke l’emplacement du fichier Excel, si vous le changez de répertoire, les données ne seront plus reconnues ! Peu pratique me direz-vous mais c’est en fait indispensable si l’on souhaite mettre à jour. Évitez donc de laisser votre fichier dans le dossier “Téléchargements” !</p>
</div>
</div>
</section>
</section>
<section id="lancer-une-première-désaisonnalisation-automatique-sous-jdemetra" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Lancer une première désaisonnalisation automatique sous JDemetra+</h1>
<section id="création-dun-nouveau-multi-document" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="création-dun-nouveau-multi-document"><span class="header-section-number">3.1</span> Création d’un nouveau « multi-document »</h2>
<ul>
<li><p>Cliquer sur l’onglet <code>Workspace</code>.</p></li>
<li><p>Double-clic sur <code>Seasonal adjustment</code>.</p></li>
<li><p>Clic-droit sur <code>multi-documents</code>.</p></li>
<li><p>Cliquer sur <code>New</code>.</p></li>
<li><p>Double-clic sur <code>multi-documents</code> :</p>
<ul>
<li>Que voit-on ?</li>
</ul></li>
<li><p>Double-clic sur le « multi-document » créé, nommé <code>SAProcessing-1</code> par défaut</p>
<ul>
<li>Que se passe-t-il ?</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour information
</div>
</div>
<div class="callout-body-container callout-body">
<p>De façon équivalente vous pouvez cliquer sur le Menu <code>Statistical methods &gt; Seasonal Adjustment &gt; Multi Processing &gt; New</code>.</p>
</div>
</div>
</section>
<section id="choisir-une-spécfication-pré-définie" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="choisir-une-spécfication-pré-définie"><span class="header-section-number">3.2</span> Choisir une spécfication pré-définie</h2>
<ul>
<li><p>Aller dans l’onglet <code>SAProcessing-1</code></p></li>
<li><p>Cliquer sur la flèche située à côté de la petite « calculatrice »</p></li>
<li><p>Cliquer sur le <code>+</code> à côté de « x13 » puis cliquer sur <code>RSA5c</code> (ou <code>RSA5</code> si l’on utilise JDemetra+ &gt; 3.0.0)</p></li>
<li><p>Cliquer quelque part dans SAProcessing-1</p></li>
</ul>
</section>
<section id="lancer-une-désaisonnalisation" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="lancer-une-désaisonnalisation"><span class="header-section-number">3.3</span> Lancer une désaisonnalisation</h2>
<ul>
<li><p>Cliquer sur <code>Providers</code>.</p></li>
<li><p>Faire glisser l’ensemble des séries de votre fichier dans l’onglet <code>SAProcessing-1</code> :</p>
<ul>
<li>Que voit-on ?</li>
</ul></li>
<li><p>Cliquer sur la flèche verte figurant dans l’onglet <code>SAProcessing-1</code>.</p></li>
</ul>
<p><img src="img/tp1_jd_1.png" class="img-fluid"></p>
<ul>
<li><p>Que se passe-t-il ?</p></li>
<li><p>Cliquer sur une série :</p>
<ul>
<li>Que voit-on ?</li>
</ul></li>
<li><p>Sauvegarder le workspace.</p></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour information
</div>
</div>
<div class="callout-body-container callout-body">
<p>Il y a de grandes chances pour qu’un jour vous oubliiez l’étape 3.2 avant de “faire glisser” vos séries. Dans ce cas, vous aurez beau changer la spécification, cela n’affectera pas vos séries déjà importées. Deux solutions s’offrent à vous :</p>
<ol type="1">
<li><p>Solution brutale : fermer JDemetra+, supprimer toutes les séries, bref, tout recommencer.</p></li>
<li><p>Solution maligne : sélectionner toutes les séries (ctrl + clic gauche ou ctrl + a, ou ctrl + maj…), clic droit, <code>Spécification &gt; Select &gt; choisir la spécification voulue</code>.</p></li>
</ol>
<p><img src="img/tp1_jd_2.png" class="img-fluid"></p>
<p>Dans JDemetra+ &gt; 3.0.0 le choix d’une spécification est obligatoire pour ajouter des séries. Pour modifier la spécification par défaut il faut sélectionner les séries, clic droit, <code>Edit &gt; Reference specification &gt; Select &gt; choisir la spécification voulue</code>.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="AQLT/formations" data-repo-id="R_kgDOIepagw" data-category="Announcements" data-category-id="DIC_kwDOIepag84CSt5_" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="fr" crossorigin="anonymous" data-loading="lazy" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="light">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Alain Quartier-la-Tente</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="http://github.com/AQLT">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://aqlt.github.io/">
      <i class="bi bi-globe" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/alainqlt/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>